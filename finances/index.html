<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	<script src="https://cdn.jsdelivr.net/npm/handlebars@latest/dist/handlebars.min.js"></script>
	<script src="/scripts/render.js"></script>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet">
	<script defer src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"></script>
	<script src='https://cdn.plot.ly/plotly-3.0.1.min.js'></script>
	<link rel="stylesheet" href="/styles/main.css" as="style">
	<title>Palavra Viva Church - Seu dízimo</title>
	<style>
        .gray-container {
            background-color: #CFCFCF;
            border-radius: 100px;
            box-shadow: 0 1px 10px rgba(0, 0, 0, 0.1);
            padding: 50px 10px;
            margin: auto;
            margin-bottom: 60px;
        }
        .item-label {
            font-size: 18px;
            display: flex;
            align-items: flex-start;
            padding: 15px 20px;
        }
        .item-color {
            min-width: 16px;
            min-height: 16px;
            margin-right: 5px;
            margin-top: 5px;
        }
	</style>
</head>
<body>
<div id="header"></div>
<div class="container">
	<div class="row">
		<div class="col-lg-6 px-md-5">
			<div class="gray-container">
				<h1 class="fw-bold text-center">PARA ONDE VAI<br/>O SEU DÍZIMO</h1>
				<div class="chart-container d-flex justify-content-center align-items-center">
					<div id="chart-summary" class="m-3" style="width: 330px; height: 350px"></div>
				</div>
				<div class="item-label">
					<div id="item-color-ev" class="item-color"></div>
					<div>
						<b>Eventos: <span id="item-percentage-ev"></span>%</b>
						- Criando experiências envolventes de adoração que ajudam
						você a se conectar com Deus e ter comunhão com o corpo de
						Cristo - Kingsman, Só Para Elas, Café para Novos Membros, etc.
					</div>
				</div>
				<div class="item-label">
					<div id="item-color-mi" class="item-color"></div>
					<div>
						<b>Missões: <span id="item-percentage-mi"></span>%</b>
						- Investindo em missões locais e globais, como o suporte para o
						ministério <i>Iglesia Evangélica</i> Misión que espalha a mensagem de
						Jesus entre comunidades muçulmanas na Espanha, e o <i>Minha Missão</i>
						que leva ajuda humanitária a comunidades em situação de vulnerabilidade
						no Brasil.
					</div>
				</div>
				<div class="item-label">
					<div id="item-color-as" class="item-color"></div>
					<div>
						<b>Assistência Social: <span id="item-percentage-as"></span>%</b>
						- Na Palavra Viva, assistência social significa andar
						junto em família - oferecendo amor, conforto e
						ajuda financeira - para que ninguém caminhe sozinho.
					</div>
				</div>
				<div class="item-label">
					<div id="item-color-go" class="item-color"></div>
					<div>
						<b>Gastos Operacionais: <span id="item-percentage-go"></span>%</b>
						- Investindo em nossos ministérios. Mantendo e melhorando
						nossas instalações para melhor servir a nossa comunidade,
						como materiais gerais, equipamentos, limpeza, seguros,
						contabilidade, etc.
					</div>
				</div>
				<div class="item-label">
					<div id="item-color-al" class="item-color"></div>
					<div>
						<b>Aluguel: <span id="item-percentage-al"></span>%</b>
						- Cumprindo nossos compromissos financeiros para garantir
						o nosso local de adoração e comunhão.
					</div>
				</div>
				<div class="item-label">
					<div id="item-color-sp" class="item-color"></div>
					<div>
						<b>Suporte Pastoral: <span id="item-percentage-sp"></span>%</b>
						- Nossos pastores servem com amor, compromisso e temor a Deus.
						Nossas doações sustentam e fortalecem o chamado deles.
					</div>
				</div>
				<div class="item-label">
					<div id="item-color-re" class="item-color"></div>
					<div>
						<b>Reservas: <span id="item-percentage-re"></span>%</b>
						- Visando nosso crescimento e compromissos financeiros.
					</div>
				</div>
				<div class="mt-4 fw-lighter text-body-tertiary text-center">
					* Ano de 2025 *
				</div>
			</div>
		</div>
		<div class="col-lg-6 px-md-5">
			<div>
				<h2 class="my-4">
					NENHUMA DOAÇÃO<br>É PEQUENA DEMAIS
				</h2>
				<div class="fs-5">
					Seu apoio faz a diferença no amanhã! Cada contribuição não é só para manter as
					luzes acesas, é para espalhar esperança, transformar vidas e mostrar à nossa comunidade
					como é o amor de Jesus em ação. Quando doamos juntos,
					isso se torna algo poderoso. Vamos ser a geração que se levanta com mãos abertas e
					corações abertos, confiando que Deus vai multiplicar o que entregamos. A sua generosidade
					é mais que uma doação, é impacto, é propósito, é amor em movimento.
				</div>
				<div class="mt-5 d-flex justify-content-center align-items-center">
					<img class="w-100" src="/images/photos.png" alt="photos">
				</div>
			</div>
		</div>
	</div>
</div>
<div id="footer"></div>
<script>
	var config = {
        displaylogo: false,
        displayModeBar: false,
    }

    var report = [
    	[ 'sp', 'Suporte<br>Pastoral',    '#D9A69F', 37 ],
    	[ 'al', 'Aluguel',                '#6C739C', 19 ],
    	[ 'go', 'Gastos<br>Operacionais', '#F0DAD5', 16 ],
    	[ 'ev', 'Eventos',                '#C56B62',  9 ],
    	[ 'mi', 'Missões',                '#424658',  7 ],
    	[ 'as', 'Assistência Social',     '#BABBB1',  6 ],
    	[ 're', 'Reservas',               '#DEA785',  5 ]
    ];

	report.forEach((item, index) => {
		var eleColor = document.getElementById('item-color-' + item[0]);
		eleColor.style.backgroundColor = item[2];

		var elePercentage = document.getElementById('item-percentage-' + item[0]);
		elePercentage.innerHTML = item[3];
	});

	var data = [{
      	labels: report.map(item => item[1]),
      	marker: { colors: report.map(item => item[2]) },
      	values: report.map(item => item[3]),
      	domain: {column: 0},
      	texttemplate: "%{label}<br>%{percent:.0%}",
      	textinfo: "label+percent",
      	textposition: "inside",
      	automargin: true,
      	hoverinfo: 'skip',
		hole: 0.0,
		type: 'pie'
    }];

    var layout = {
		paper_bgcolor: "rgba(0, 0, 0, 0)",
      	plot_bgcolor: "rgba(0, 0, 0, 0)",
      	hoverinfo: 'skip',
      	showlegend: false,
/*
		uniformtext: {
      		mode: "hide",
      		minsize: 16
      	}
		autosize: false,
		height: 300,
      	width: 300,
*/
		margin: {
			l: 0,
			r: 0,
			b: 0,
			t: 0,
  		}
    };

    Plotly.newPlot('chart-summary', data, layout, config);
</script>
<script>
	renderTemplates({ headers: [ "finances" ] });
</script>
</body>
</html>
